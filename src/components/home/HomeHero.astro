---
import { Image } from 'astro:assets'
import { Icon } from 'astro-icon/components'
import Button from '@components/shared/Button.astro'
import heroImage from '@images/stock/bagel-edu-home-hero.png'

const ratings = [
  { label: 'Great Schools', stars: 5 },
  { label: 'Private School Review', stars: 5 },
  { label: 'Google Reviews', stars: 5 },
]
---

<section
  class="bg-gradient-to-b from-purple-25 to-purple-50 px-4 pt-16 sm:px-6 lg:px-8"
>
  {/* Hero container */}
  <div
    class="mx-auto max-w-screen-xl lg:grid lg:grid-cols-12 lg:gap-8"
    x-data="{ modalOpen: false }"
  >
    {/* Hero text content */}
    <div
      class="flex flex-col items-center justify-center lg:col-span-6 lg:items-start"
    >
      <div>
        <span
          class="inline-block -rotate-1 rounded-full bg-purple-200 px-4 py-2 font-medium text-purple-700 shadow-md"
        >
          Welcome to BagelEdu
        </span>
      </div>
      <h1
        class="h1 mt-4 max-w-xl text-center text-purple-900 sm:mt-5 lg:max-w-none lg:text-left"
      >
        WE ARE ELITE
      </h1>
      <p
        class="mt-3 max-w-2xl text-center text-xl leading-loose text-purple-800 lg:text-left"
      >
        아이비리그 출신의 튜터와 함께 하는 밀착형 영어 수업!
      </p>
      <p
        class="mt-3 max-w-2xl text-center text-xl leading-loose text-purple-800 lg:text-left"
      >
        주니어 보딩스쿨 및 명문 대학 합격까지 함께 합니다.
      </p>
      {/* Hero buttons */}
      <!-- <div class="mt-8 flex flex-col items-center overflow-hidden sm:flex-row">
        <Button href="#0">
          Enroll today
          <Icon
            name="tabler:arrow-narrow-right"
            class="ml-3 h-6 w-6 group-hover:animate-horizontal-bounce"
          />
        </Button>
        <Button
          variant="secondary"
          class="mt-6 sm:ml-6 sm:mt-0"
          @click="modalOpen = true"
        >
          <Icon
            name="play-filled"
            class="mr-3 h-7 w-7 text-purple-600 duration-300 ease-in-out group-hover:text-purple-50"
          />
          Watch video
        </Button>
      </div> -->
      {/* Social proof */}
      <p
        class="mt-14 hidden text-sm font-medium uppercase tracking-wider text-purple-900 sm:block lg:hidden xl:block"
      >
        Rated 5 stars by over{' '}
        <span class="font-semibold text-purple-600">100 parents</span>
      </p>
      <div
        class="mt-8 hidden flex-col divide-y divide-purple-400/20 overflow-hidden sm:mt-5 sm:flex sm:flex-row sm:divide-x sm:divide-y-0 lg:hidden xl:flex"
      >
        {
          ratings.map((rating, index) => (
            <div
              class:list={[
                'flex flex-col items-center',
                {
                  'pb-5 sm:pb-0 sm:pr-10': index == 0,
                  'py-5 sm:px-10 sm:py-0': index == 1,
                  'pt-5 sm:pl-10 sm:pt-0': index == 2,
                },
              ]}
            >
              <div class="flex w-full justify-center space-x-1">
                {[...Array(rating.stars)].map((s) => (
                  <Icon name="star-filled" class="h-4 w-4 text-yellow-500" />
                ))}
              </div>
              <p class="mt-2.5 text-xs font-bold uppercase tracking-wide text-purple-700">
                {rating.label}
              </p>
            </div>
          ))
        }
      </div>
    </div>
    {/* Hero image & video */}
    <div
      class="mx-auto mt-16 flex max-w-3xl flex-col justify-center lg:col-span-6 lg:mt-0 lg:max-w-none"
    >
      <div class="relative">
        <Image
          src={heroImage}
          class="h-auto w-full"
          alt="Bright school photo collage"
        />
        <div class="absolute inset-0 flex items-center justify-center">
          <span
            class="absolute inline-flex h-20 w-20 animate-ping rounded-full bg-purple-400 opacity-60"
          ></span>
          {/* Video modal button */}
          <button
            class="group relative z-10 flex h-20 w-20 items-center justify-center rounded-full bg-purple-600/90 outline-none duration-300 ease-in-out hover:bg-purple-600/95"
            @click="modalOpen = true"
          >
            <Icon
              name="play-filled"
              class="h-12 w-12 text-white/90 duration-300 ease-in-out group-hover:text-white/95"
            />
          </button>
        </div>
      </div>
    </div>

    {/* Video modal*/}
    <div
      class="fixed inset-0 z-10 h-full w-full overflow-hidden px-4 transition duration-150 ease-linear"
      aria-modal="true"
      x-show="modalOpen"
      @keydown.window.escape="modalOpen = false"
      style="display: none"
    >
      {/* Modal overlay */}
      <div
        class="fixed inset-0 bg-black bg-opacity-50"
        x-show="modalOpen"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="bg-opacity-0"
        x-transition:enter-end="bg-opacity-50"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="bg-opacity-50"
        x-transition:leave-end="bg-opacity-0"
      >
      </div>
      <div
        class="mx-auto flex min-h-screen w-auto items-center justify-center"
        x-show="modalOpen"
        x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 scale-95 translate-y-24"
        x-transition:enter-end="opacity-100 scale-100 translate-y-0"
        x-transition:leave="transition ease-out duration-200"
        x-transition:leave-start="opacity-100 scale-100 translate-y-0"
        x-transition:leave-end="opacity-0 scale-95 translate-y-24"
      >
        <div
          class="max-h-full w-full max-w-6xl overflow-auto rounded-2xl bg-white"
          @click.away="modalOpen = false"
        >
          <div class="aspect-h-9 aspect-w-16 relative">
            <iframe
              class="absolute h-full w-full"
              src="https://www.youtube.com/embed/oRcNS5CCbnc"
              title="Video"
              allowfullscreen></iframe>
          </div>
        </div>
      </div>
    </div>
  </div>
  {
    /* Visible only on sm screens ( <= 640px ) and lg screens ( >= 1024px	< 1280px ) */
  }
  <div
    class="mt-20 flex flex-col items-center sm:hidden lg:mt-24 lg:flex xl:hidden"
  >
    {/* Social proof */}
    <p class="text-sm font-semibold uppercase tracking-wider text-purple-900">
      Rated 5 stars by over{' '}
      <span class="font-semibold text-purple-600">100 parents</span>
    </p>
    <div
      class="mt-8 flex flex-col divide-y divide-purple-400/20 overflow-hidden sm:flex-row sm:divide-x sm:divide-y-0"
    >
      {
        ratings.map((rating, index) => (
          <div
            class:list={[
              'flex flex-col items-center',
              {
                'pb-5 sm:pb-0 sm:pr-10': index == 0,
                'py-5 sm:px-10 sm:py-0': index == 1,
                'pt-5 sm:pl-10 sm:pt-0': index == 2,
              },
            ]}
          >
            <div class="flex w-full justify-center space-x-1">
              {[...Array(rating.stars)].map((e) => (
                <Icon
                  name="star-filled"
                  class="h-4.5 w-4.5 text-yellow-500 lg:h-5 lg:w-5"
                />
              ))}
            </div>

            <p class="mt-2.5 text-xs font-bold uppercase tracking-wide text-purple-700">
              {rating.label}
            </p>
          </div>
        ))
      }
    </div>
  </div>
</section>
